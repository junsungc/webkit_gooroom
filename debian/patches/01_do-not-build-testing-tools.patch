From 32f51767bf29de3dfd91ddb018adbe0d2a143c21 Mon Sep 17 00:00:00 2001
From: Gustavo Noronha Silva <kov@debian.org>
Date: Fri, 16 Aug 2013 11:21:31 -0300
Subject: [PATCH] Avoid exporting a bunch of C++ symbols by not building

---
 GNUmakefile.am                   | 14 +++++++-------
 Source/WebKit/gtk/GNUmakefile.am |  2 +-
 2 files changed, 8 insertions(+), 8 deletions(-)

--- a/GNUmakefile.am
+++ b/GNUmakefile.am
@@ -174,7 +174,7 @@
 endif
 
 if OS_GNU
-version_script = -Wl,--version-script,$(srcdir)/Source/autotools/symbols.filter
+version_script = -Wl,--version-script,$(srcdir)/debian/symbols.filter
 endif
 
 if ENABLE_COVERAGE
@@ -201,16 +201,16 @@
 include Source/WebCore/platform/gtk/po/GNUmakefile.am
 include Source/WebInspectorUI/GNUmakefile.am
 include Source/WebKit/gtk/GNUmakefile.am
-include Tools/GNUmakefile.am
+# include Tools/GNUmakefile.am
 
 include Source/WebKit2/GNUmakefile.am
-include Source/WebKit2/UIProcess/API/gtk/tests/GNUmakefile.am
-include Tools/MiniBrowser/gtk/GNUmakefile.am
-include Tools/WebKitTestRunner/GNUmakefile.am
+# include Source/WebKit2/UIProcess/API/gtk/tests/GNUmakefile.am
+# include Tools/MiniBrowser/gtk/GNUmakefile.am
+# include Tools/WebKitTestRunner/GNUmakefile.am
 include Source/ThirdParty/ANGLE/GNUmakefile.am
-include Source/ThirdParty/gtest/GNUmakefile.am
+# include Source/ThirdParty/gtest/GNUmakefile.am
 include Source/ThirdParty/leveldb/GNUmakefile.am
-include Tools/TestWebKitAPI/GNUmakefile.am
+# include Tools/TestWebKitAPI/GNUmakefile.am
 # [GTK] Refactor the translations now that we have webkit2
 # https://bugs.webkit.org/show_bug.cgi?id=55153
 
--- a/Source/WebKit/gtk/GNUmakefile.am
+++ b/Source/WebKit/gtk/GNUmakefile.am
@@ -446,7 +446,7 @@
 	-no-fast-install
 
 if ENABLE_WEBKIT1
-noinst_PROGRAMS += \
+DEBIAN_DISABLED = \
 	Programs/unittests/testapplicationcache \
 	Programs/unittests/testcontextmenu \
 	Programs/unittests/testdomdocument \
